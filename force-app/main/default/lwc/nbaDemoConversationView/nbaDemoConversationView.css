:host {
    display: flex;
    flex-direction: column;
    height: 100%;
    font-family: var(--nba-font-family, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif);
}

/* ─── Contact Picker ─────────────────────── */
.contact-picker {
    display: flex;
    gap: 6px;
    padding: 12px 20px;
    overflow-x: auto;
    border-bottom: 1px solid var(--nba-border-light, #f1f5f9);
    flex-shrink: 0;
}

.contact-pill {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: var(--nba-radius-full, 9999px);
    border: 1px solid var(--nba-border, #e2e8f0);
    background: var(--nba-bg-card, #ffffff);
    cursor: pointer;
    white-space: nowrap;
    font-size: 12px;
    font-family: inherit;
    color: var(--nba-text-700, #334155);
    transition: all 0.15s ease;
}

.contact-pill:hover {
    background: var(--nba-bg-hover, #f1f5f9);
}

.contact-pill-selected {
    background: var(--nba-blue-50, #eff6ff);
    border-color: var(--nba-blue-600, #2563eb);
    color: var(--nba-blue-700, #1d4ed8);
    font-weight: 600;
}

.pill-initials {
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: var(--nba-blue-100, #dbeafe);
    color: var(--nba-blue-700, #1d4ed8);
    font-size: 10px;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.contact-pill-selected .pill-initials {
    background: var(--nba-blue-600, #2563eb);
    color: white;
}

.pill-name {
    max-width: 80px;
    overflow: hidden;
    text-overflow: ellipsis;
}

.pill-opted-out {
    font-size: 10px;
    color: var(--nba-amber-700, #b45309);
    background: var(--nba-amber-50, #fffbeb);
    padding: 1px 6px;
    border-radius: var(--nba-radius-full, 9999px);
}

/* ─── Chat Area ──────────────────────────── */
.chat-area {
    flex: 1;
    overflow-y: auto;
    padding: 16px 20px;
    min-height: 0;
}

.chat-loading {
    display: flex;
    justify-content: center;
    padding: 40px 0;
}

.chat-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px 0;
}

.chat-messages {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

/* ─── Date Headers ───────────────────────── */
.date-header {
    display: flex;
    justify-content: center;
    padding: 12px 0 4px;
}

.date-label {
    font-size: 11px;
    color: var(--nba-text-400, #94a3b8);
    background: var(--nba-bg-hover, #f1f5f9);
    padding: 2px 10px;
    border-radius: var(--nba-radius-full, 9999px);
}

/* ─── Chat Rows ──────────────────────────── */
.chat-row {
    display: flex;
}

.chat-row-right {
    justify-content: flex-end;
}

.chat-row-left {
    justify-content: flex-start;
}

/* ─── Chat Bubbles ───────────────────────── */
.chat-bubble {
    max-width: 80%;
    padding: 10px 14px;
    border-radius: 16px;
    word-break: break-word;
}

.chat-bubble-outbound {
    background: var(--nba-blue-600, #2563eb);
    color: white;
    border-bottom-right-radius: 4px;
}

.chat-bubble-inbound {
    background: var(--nba-bg-hover, #f1f5f9);
    color: var(--nba-text-900, #0f172a);
    border-bottom-left-radius: 4px;
}

.bubble-text {
    font-size: 13px;
    line-height: 1.5;
    margin: 0;
    white-space: pre-wrap;
}

.bubble-meta {
    display: flex;
    align-items: center;
    gap: 4px;
    margin-top: 4px;
}

.bubble-time {
    font-size: 10px;
    opacity: 0.7;
}

.chat-bubble-outbound .bubble-time,
.chat-bubble-outbound .bubble-status {
    color: rgba(255, 255, 255, 0.7);
}

.chat-bubble-inbound .bubble-time,
.chat-bubble-inbound .bubble-status {
    color: var(--nba-text-400, #94a3b8);
}

.bubble-status {
    font-size: 10px;
    opacity: 0.7;
}

/* ─── Opt-out Banner ─────────────────────── */
.opt-out-banner {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    background: var(--nba-amber-50, #fffbeb);
    border-top: 1px solid var(--nba-amber-500, #f59e0b);
    color: var(--nba-amber-800, #92400e);
    font-size: 13px;
    flex-shrink: 0;
}

/* ─── Compose Area ───────────────────────── */
.compose-area {
    padding: 12px 20px;
    border-top: 1px solid var(--nba-border, #e2e8f0);
    flex-shrink: 0;
}

.compose-input-row {
    display: flex;
    gap: 8px;
    align-items: flex-end;
}

.compose-textarea {
    flex: 1;
}

.send-btn {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: none;
    background: var(--nba-blue-600, #2563eb);
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: background 0.15s ease;
}

.send-btn:hover {
    background: var(--nba-blue-700, #1d4ed8);
}

.send-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.char-counter {
    font-size: 11px;
    color: var(--nba-text-400, #94a3b8);
    text-align: right;
    margin-top: 4px;
}

.char-counter.over-limit {
    color: var(--nba-amber-700, #b45309);
    font-weight: 600;
}

.send-error {
    padding: 6px 10px;
    margin-top: 8px;
    background: var(--nba-red-50, #fef2f2);
    border: 1px solid #fecaca;
    border-radius: var(--nba-radius-sm, 6px);
    color: var(--nba-red-600, #dc2626);
    font-size: 12px;
}

/* ─── Empty State ────────────────────────── */
.empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px 20px;
    gap: 12px;
}

.empty-icon {
    --sds-c-icon-color-foreground-default: #94a3b8;
    --sds-c-icon-color-foreground: #94a3b8;
}

.empty-text {
    color: var(--nba-text-400, #94a3b8);
    font-size: 13px;
    text-align: center;
    margin: 0;
}
